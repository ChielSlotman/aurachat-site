<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AuraChat — Pricing</title>
  <link rel="icon" type="image/png" sizes="32x32" href="logo/icon_only.png">
  <meta property="og:title" content="AuraChat — Pricing">
  <meta property="og:image" content="logo/banner.png">
  <link rel="stylesheet" href="styles.css?v=2025-09-09-1">
  <script async src="https://js.stripe.com/v3/pricing-table.js"></script>
</head>
<body>
<nav>
  <a class="brand" href="index.html">
    <img src="logo/icon_only.png" alt="AuraChat logo" width="32" height="32" loading="lazy">
    <div class="name">AuraChat</div>
  </a>
  <div class="links">
    <a href="index.html">Home</a>
    <a href="faq.html">FAQ</a>
    <a href="support.html">Support</a>
  </div>
</nav>
<section class="hero">
  <h1>Choose your plan</h1>
  <p>Pay on our secure Stripe checkout. After payment you will land on the success page where you get your activation code.</p>
</section>
<section class="features">
  <div style="text-align:center; margin-top: 0;">
    <div id="stripe-pricing-table">
      <stripe-pricing-table
        pricing-table-id="prctbl_1S4FoI1XlsSTEaa9Xa8LAnIK"
        publishable-key="pk_test_51S3cea1XlsSTEaa9zu10zIjcwOsdfEN5PYP7EA9AKwFuoIACbPUSfJCIJhAgvRoTnGqP0mRlOYSlqveFHQuXhG6I00gFu6TNbX">
      </stripe-pricing-table>
    </div>
    <div style="margin-top:1.5rem;">
      <a id="manageBillingBtn" class="btn secondary" href="#" style="display:none;">Manage billing</a>
    </div>
  </div>
</section>
<footer>
  AuraChat © 2025. Not affiliated with Character.AI.
</footer>
<script src="config.js"></script>
<script>
  // Show a Manage Billing button if configured.
  (function(){
    const cfg = window.AURACHAT_CONFIG || {};
    const btn = document.getElementById('manageBillingBtn');
    if (!btn) return;

    // Preferred: direct portal shareable link configured in Stripe dashboard
    if (cfg.PORTAL_URL) {
      btn.href = cfg.PORTAL_URL;
      btn.style.display = 'inline-block';
      return;
    }

    // Optional: backend endpoint that creates a portal session and returns { url }
    if (cfg.BACKEND_BASE && cfg.PORTAL_SESSION_PATH) {
      btn.style.display = 'inline-block';
      btn.addEventListener('click', async (e) => {
        e.preventDefault();
        try {
          const res = await fetch(cfg.BACKEND_BASE + cfg.PORTAL_SESSION_PATH, { method: 'POST', credentials: 'include' });
          const data = await res.json();
          if (data && data.url) window.location.href = data.url;
        } catch (err) {
          console.warn('Could not create portal session');
        }
      });
      return;
    }
  })();
</script>
</body>
</html>
